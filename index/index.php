<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>RecEYEcle - an anyltics website</title>

    <!-- Bootstrap Core CSS -->
    <link href="https://fonts.googleapis.com/css?family=Overpass" rel="stylesheet">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/thumbnail-gallery.css" rel="stylesheet">

    <!-- Custom CSS -->
    <script src="chart.js/dist/Chart.js"></script>

    <link rel="icon" type="image/png" href="imgs/icon33.png" sizes="16x16">
    <link rel="icon" type="image/png" href="imgs/icon33.png" sizes="32x32">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                </button>
                <img class="navbar-brand" src="imgs/icon11.png" style="height:50px; padding:7px;">
                <a class="navbar-brand" href="index.php" style="float:right">Rec-EYE-cle</a>
            </div>
            </div>
            <!-- /.navbar-collapse -->
        <!-- /.container -->
    </nav>

    <!-- Image Background Page Header -->
    <!-- Note: The background image is set within the business-casual.css file. -->
    <header class="business-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="tagline">Let us be your eyes!</h1>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-2">
                </div>
                <div class="col-sm-8">
                    <img id="icon" src="imgs/iconX.png" style="display: block;
    margin: 0 auto;">
                </div>
                <div class="col-sm-2">
                </div>
            </div>
        </div>
    </header>

    <!-- Page Content -->
    <div class="container">

        <hr>

        <div class="row">
            <div class="col-sm-8">
                <h1>What We Do</h1>
                <p>Theres no I in recycle. Waste managment has become a huge problem in the united states and the world. If we all work together though then we can settle all the confusion around recycling!</p>
                <p>The Receyecle website along with the Receycle Android application will help everyone who has questions on proper recycling techniques.</p>
                <p>
                    <a class="btn btn-default btn-lg" href="https://play.google.com/store/apps/details?id=com.receyecle.app" target="_blank">Get the App &raquo;</a>
                </p>
            </div>
            <div class="col-sm-4">
                <h2>Contact Us</h2>
                <address>
                    <strong>Rec-EYE-cle</strong>
                    <br>Boston, MA 02115
                    <br>
                </address>
                <address>
                    <abbr title="Email">E:</abbr> <a href="mailto:#">receyecle@gmail.com</a>
                </address>
            </div>
        </div>
        <H2>Did You Know?</H2>
        <hr>
        <!-- /.row -->
            <div class="slider">
        <figure>
            <div class="slide">
                <h3>In America alone we use 2.5 million plastic bottles each hour! <sup><a href="http://earth911.com/recycling-guide/how-to-recycle-plastic-jugs-bottles/" target="_blank"> &nearhk;</a></sup></h3>
            </div>

            <div class="slide">
                <h3>Plastic Bottles don't biodegeade, which means that if you don't properly recycle them, they will sit in a landfill for hundreds of years before they fully decompose. <sup><a href="http://earth911.com/recycling-guide/how-to-recycle-plastic-jugs-bottles/"> &nearhk;</a></sup></h3>
            </div>

            <div class="slide">
                <h3>One dirty product, or one with food waste still in it can contaminate an entire bale, containing thousands of pounds of collected plastics. This can cause thousands of recyclable items to go to a landfill instead of being recycled. <sup><a href="http://www.wm.com/thinkgreen/what-can-i-recycle.jsp" target="_blank"> &nearhk;</a></sup></h3>
            </div>

            <div class="slide">
               <h3>PET plastic is the most common material used for single-use bottled beverages, because it is inexpensive, lightweight, unbreakable and easy to recycle. It takes more than 1.5 million barrels of oil to produce a year's supply of water bottles. That's enough oil to fuel 100,000 cars for a year! <sup><a href="http://www.wm.com/thinkgreen/what-can-i-recycle.jsp" target="_blank"> &nearhk;</a></sup></h3>
            </div>

            <div class="slide">
                <h3>When U.S. recycling levels reach 75% it will be the environmental and CO2 equivalent of removing 55 million cars from U.S. roads each year. <sup><a href="http://www.recycleacrossamerica.org/recycling-facts" target="_blank"> &nearhk;</a></sup></h3>
            </div>
            <div class="slide">
                <h3>Recycling a single aluminum can saves enough energy to power a TV for three hours. <sup><a href="http://www.recycleacrossamerica.org/recycling-facts" target="_blank"> &nearhk;</a></sup></h3>
            </div>
            <div class="slide">
                <h3>More than 28 billion glass bottles and jars end up in landfills every year -- that is the equivalent of filling up two Empire State Buildings every three weeks. <sup><a href="http://www.recycleacrossamerica.org/recycling-facts" target="_blank"> &nearhk;</a></sup></h3>
            </div>
            <div class="slide">
                <h3>Recycling one ton of plastic bottles saves the equivalent energy usage of a two person household for one year! <sup><a href="http://www.recycleacrossamerica.org/recycling-facts" target="_blank"> &nearhk;</a></sup></h3>
            </div>
            <div class="slide">
                <h3>Half a million trees have to be cut down just to produce the Sunday newspapers each week. With that said, recycling a single days worth of the New York Times could save 75,000 trees or more. <sup><a href="http://www.conserve-energy-future.com/various-recycling-facts.php" target="_blank"> &nearhk;</a></sup></h3>
            </div>
            <div class="slide">
                <h3>Plastic bags that are thrown into the ocean kill over a million sea creatures a year. <sup><a href="http://www.conserve-energy-future.com/various-recycling-facts.php" target="_blank"> &nearhk;</a></sup></h3>
            </div>
            <div class="slide">
                <h3>The top American cities for recycling are 1) San Francisco, 2) Boston, 3) Chicago, 4) Denver, and 5) Portland. <sup><a href="https://www.factretriever.com/recycling-facts" target="_blank"> &nearhk;</a></sup></h3>
            </div>
            <div class="slide">
                <h3>A used aluminum can is recycled and back in use as a new can in as little as 60 days. <sup><a href="http://www.recyclingbin.com/Recycling-Facts" target="_blank"> &nearhk;</a></sup></h3>
            </div>
        </figure>
    </div>
        <hr>


        <div class="row">
            <div class="col-lg-4">
        <div style="height:400px; width:400px">
        <canvas id="myChart" width="400" height="400"></canvas>
        <script>
        var ctx = document.getElementById("myChart").getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'pie',
            data:  {
            labels: ["Recycled", "Trashed"],
            datasets: [{
              backgroundColor: [
                "#2ecc71",
                "#3498db"
              ],
              data: [35, 65]
            }]
          }
        });
        </script>
        </div>
        <h3 style="text-align:center;">How Much Does the US Recycle?</h3>
        <p style="text-align:center;">The United States only recycles about 35% of the waste produced by The United States. Of the municipal solid waste (MSW) produced 89 million tons were recycled, while 33 million tons were combusted to create energy and 136 million tons were lanfilled.</p>
        </div>
        <div class="col-lg-4">
                <div style="height:400px; width:400px">
                <canvas id="myChart2" width="400" height="400"></canvas>
        <script>
        var ctx = document.getElementById("myChart2").getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ["1960", "1970", "1980", "1990", "2000", "2005", "2010", "2011", "2012","2013","2014"],
                datasets: [{
                    label: 'Municipal Solid Waste Generated by the US (in Millions Tons)',
                    data: [88.1, 121.1, 151.6, 208.3, 243.5, 253.7, 250.5, 250.4, 250.6, 254.1, 258.5],
                    backgroundColor: [
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)'
                    ],
                    borderColor: [
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',

                    ],
                    borderWidth: 1
                }]
            },
            options: {
                tooltips:{
                    callbacks:{
                        label: function(tooltipItem, data){
                            return tooltipItem.yLabel + " Million tons";
                        }
                    }
                },
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero:true
                        }
                    }]
                }
            }
        });
        </script>
</div>
<h3 style="text-align:center;">Total Waste Created by US</h3>
<p style="text-align:center;">Since the 60's the amount of waste produced by The United States has more than trippled. With your help using RecEYEcle we can make sure some of this waste does not end up in a landfill!</p>
</div>
          <div class="col-lg-4">
        <div style="height:400px; width:400px">
        <canvas id="myChart1" width="400" height="400"></canvas>
            <script>
            var ctx = document.getElementById("myChart1").getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'pie',
                data:  {
                labels: ["Paper", "Glass", "Metals", "Plastics", "Textiles", "Wood", "Yard Trimmings", "Food", "Other"],
                datasets: [{
                  backgroundColor: [
                    "#2ecc71",
                    "#3498db",
                    "#95a5a6",
                    "#9b59b6",
                    "#f1c40f",
                    "#e74c3c",
                    "#34495e",
                    "#123456",
                    "#654312"
                  ],
                  data: [27, 5, 9, 13, 9, 6, 13, 15, 3]
                }]
              }
            });
            </script>
            </div>
            <h3 style="text-align:center;">Top Items Recycled in US</h3>
    <p style="text-align:center;">Of the waste created, the three items that are recycled the most are as follows: Paper, Food, and Yard Trimmings!</p>
    </div>
          
</div>

        <!-- /.row -->

        
         <div class="container">

        <div class="row">

            <div class="col-lg-12">
                <h1 class="page-header">Newly Scanable items for RecEYEcle!</h1>
            </div>

            <div class="col-lg-3 col-md-4 col-xs-6 thumb">
                    <img class="img-responsive img-center" src="imgs/mcgwweat.jpg" alt="">
            </div>
            <div class="col-lg-3 col-md-4 col-xs-6 thumb">
                    <img class="img-responsive img-center" src="imgs/n02823428_38.JPEG" alt="">
            </div>
            <div class="col-lg-3 col-md-4 col-xs-6 thumb">
                    <img class="img-responsive img-center" src="imgs/n03250952_2078.JPEG" alt="">
            </div>            
            <div class="col-lg-3 col-md-4 col-xs-6 thumb">
                    <img class="img-responsive img-center" src="imgs/n04255586_768.JPEG" alt="">
            </div>
            <div class="col-lg-3 col-md-4 col-xs-6 thumb">
                    <img class="img-responsive img-center" src="imgs/n04557648_189.JPEG" alt="" >
            </div>
            <div class="col-lg-3 col-md-4 col-xs-6 thumb">
                    <img class="img-responsive img-center" src="imgs/n06255613_168.JPEG" alt="">
            </div>
            <div class="col-lg-3 col-md-4 col-xs-6 thumb">
                    <img class="img-responsive img-center" src="imgs/n06267145_876.JPEG" alt="">
            </div>
            <div class="col-lg-3 col-md-4 col-xs-6 thumb">
                    <img class="img-responsive img-center" src="imgs/jug (45).jpg" alt="">
            </div>

        </div>
<hr>

<style>


 tr.header{
    font-weight:bold;
    text-align: center;
}

tr.alt{
    background-color: #777777;
}

.legend {
  font-size: 12px;
}
.background {
  fill: #fff;
  pointer-events: all;
}
.states-borders {
  fill: none;
  stroke: #fff;
  stroke-width: 0.5px;
  stroke-linejoin: round;
  stroke-linecap: round;
  pointer-events: none;
}

svg {
  margin-left:auto; margin-right:auto; display:block;
}

@media (max-width: 768px) {
    svg {
        display:none;
    }
    #icon{
        display:none;
}
}

#tables {
  margin-left:auto; margin-right:auto; display:block;
}
.table {
    margin-left:auto; margin-right:auto; display:block;
     border-spacing: 1px;
}

#tableTitle {
  text-align: center;
  font-weight: 700;
}

td{
  border-spacing: 2;
  padding: 8;
}

.effect-layer{
  pointer-events:none;
}

.map-layer {
  fill: #fff;
  stroke: #585858;
}

text{
  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-weight: 300;
}

text.big-text{
  font-size: 25px;
  font-weight: 700;
}

text.graphTitle{
  font-size: 36px;
  font-weight: 700;
}

.effect-layer text, text.dummy-text{
  font-size: 12px;
}
/*
 * Start Bootstrap - Business Frontpage (http://startbootstrap.com/)
 * Copyright 2013-2016 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */

body {
    padding-top: 50px; /* Required padding for .navbar-fixed-top. Remove if using .navbar-static-top. Change if height of navigation changes. */
}

/* Header Image Background - Change the URL below to your image path (example: ../images/background.jpg) */

.business-header {
    height: 400px;
    background: url(../banner2.png) center center no-repeat scroll;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    background-size: cover;
    -o-background-size: cover;
}

/* Customize the text color and shadow color and to optimize text legibility. */

.tagline {
    text-shadow: 0 0 10px #000;
    color: #fff;
}

.img-center {
    margin: 0 auto;
}

footer {
    margin: 50px 0;
}
.img-responsive {
    height: 300px;
    width: 400px;
}


.slider{
    overflow: hidden;
    height: 150px;
}

.slider figure div{
    width: 20%;
    float: left;
}

.slider figure img{
    width: 100%;
    float: left;
}

.slider figure{
    position: relative;
    width: 500%;
    margin: 0;
    left: 0;
    animation: 100s slidy infinite;
}

@keyframes slidy{
    0%{
        left: 0%
    }

    10%{
        left: 0%;
    }

    12%{
        left: -100%;
    }

    22%{
        left: -100%;
    }

    24%{
        left: -200%;
    }

    34%{
        left: -200%;
    }

    36%{
        left: -300%;
    }

    46%{
        left: -300%;
    }

    48%{
        left: -400%;
    }

    58%{
        left: -400%;
    }

    60%{
        left: -300%;
    }

    70%{
        left: -300%;
    }

    72%{
        left: -200%;
    }

    82%{
        left: -200%;
    }

    84%{
        left: -100%;
    }

    94%{
        left: -100%;
    }

    96%{
        left: 0%;
    }

    100%{
        left: 0%;
    }
}
</style>

<svg id = "graph"></svg>
<div id="description"><h1></h1></div>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://d3js.org/topojson.v2.min.js"></script>
<script>

var filePrefix = (window.location.href); 
var width = 1180,
    height = 680,
    centered;
var margin = {top: 25, right: 0, bottom: 0, left: 50};

var color_domain = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
  var ext_color_domain = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
  var legend_labels = ["Tissue Box", "Styrofoam Cup", "Steel Can", "Spiral Notebook", "Plastic Water Bottle", "Plastic Jug", "Plastic Cup", "Plastic Bag", "Paper Cup", "Paper", "Newspaper", "Metal Water Bottle", "Hard Plastic Water Bottle", "Glass Cup", "Glass Bottle", "Cereal Box", "Ceramic Cup", "Carton", "Cardboard Box", "Batteries", "Aluminum Can"]          
  var color = d3.scaleThreshold()
  .domain(color_domain)
  .range(["#d50000", "#f44336", "#c51162", "#4a148c", "#aa00ff", "#673ab7","#304ffe","#2962ff", "#0091ea", "#00b8d4", "#69f0ae", "#00c853", "#64dd17", "#aeea00", "#ffd600", "#ffab00", "#ff6d00", "#dd2c00", "#3e2723", "#607d8b", "#37474f"]);

var svg = d3.select("svg")
  .attr('width', width)
  .attr('height', height);
// Add background
svg.append('rect')
  .attr('class', 'background')
   .attr('width', width)
  .attr('height', height);

var g = svg.append('g');

var effectLayer = g.append('g')
  .classed('effect-layer', true);

var mapLayer = g.append('g')
  .classed('map-layer', true)
  .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

//this is the text used in the background
var dummyText = g.append('text')
  .classed('dummy-text', true)
  .attr('x', 10)
  .attr('y', 30)
  .style('opacity', 0);

var bigText = g.append('text')
  .classed('big-text', true)
  .attr('y', height - 100);

  var bigTextScan = g.append('text')
  .classed('big-text', true)
  .attr('y', height - 70);

var title = g.append('text')
  .classed('graphTitle', true)
  .attr('x', 360)
  .attr('y', 50)
  .text("Top Scanned Items By State");

var arr = [];

//d3.csv("http://receyecle.000webhostapp.com/state_id.csv",function(error, data) {
//d3.csv("state_id.csv",function(error, data) {
d3.csv(filePrefix + "state_id.csv",function(error, data) {
  data.forEach (function (d){
    
      arr[d.State_Id]=({ state: d.State_Name, abrev: d.State_Abrev, id: d.State_Id, item: d.Most_Queried });
  });

});


  var legend = svg.selectAll("g.legend")
  .data(ext_color_domain)
  .enter().append("g")
  .attr("class", "legend");

  var ls_w = 20, ls_h = 20;

  legend.append("rect")
  .attr("x", width - 175)
  .attr("y", function(d, i){ return height - (i*ls_h) - 2*ls_h -160;})
  .attr("width", ls_w)
  .attr("height", ls_h)
  .style("fill", function(d, i) { return color(d); })
  .style("opacity", 0.8);

  legend.append("text")
  .attr("x", width- 145)
  .attr("y", function(d, i){ return height - (i*ls_h) - ls_h - 4 - 160;})
  .text(function(d, i){ return legend_labels[i]; });


var path = d3.geoPath();


d3.json("https://d3js.org/us-10m.v1.json", function(error, us) {
  if (error) throw error;

   mapLayer.selectAll('path')
    .data(topojson.feature(us, us.objects.states).features)
    .enter().append("path")
      .attr("d", path)
        .attr('vector-effect', 'non-scaling-stroke')
        .style('fill', getMostQueried)
        .on('mouseover', mouseover)
        .on('mouseout', mouseout);

  mapLayer.append("path")
      .attr("class", "states-borders")
      .attr("d", path(topojson.mesh(us, us.objects.states, function(a, b) { return a !== b; })));


});

function getMostQueried(d){
  var color;
  if(d.id == "11"){
    return 0;
  }
  switch(arr[d.id].item){
    case "Aluminum Can":
      color = "#37474f";
      break;
    case "Tissue Box":
      color = "#df0000";
      break;
    case "Spiral Notebook":
      color = "#4a148c";
      break;
    case "Steel Can":
      color = "#c51162";
      break;
    case "Plastic Cup":
      color = "#304ffe";
      break;
    case "Paper Cup":
      color = "#0091ea";
      break;
    case "Ceramic Cup":
      color = "#ff6d00";
      break;
    case "Glass Cup":
      color = "#aeea00";
      break;
    case "Styrofoam Cup":
      color = "#f44336";
      break;
    case "Glass Bottle":
      color = "#ffd600";
      break;
    case "Plastic Bag":
      color = "#2962ff";
      break;
    case "Plastic Water Bottle":
      color = "#aa00ff";
      break;
     case "Hard Plastic Water Bottle":
      color = "#64dd17";
      break;
    case "Metal Water Bottle":
      color = "#00c853";
      break;
    case "Cereal Box":
      color = "#ffab00";
      break;
    case "Newspaper":
      color = "#69f0ae";
      break;
    case "Batteries":
      color = "#607d8b";
      break;
    case "Paper":
      color = "#00b8d4";
      break;
    case "Plastic Jug":
      color = "#673ab7";
      break;
    case "Cardboard Box":
      color = "#3e2723";
      break;
    case "Carton":
      color = "#dd2c00";
      break;
    default:
        color = "black";

  }
  return color;
}

function mouseover(d){
    d3.select(this).style('fill', '#FFC0CB');
    textArt(d);
}


function mouseout(d){
    d3.select(this).style('fill', getMostQueried);
    // Remove effect text
  effectLayer.selectAll('text').transition()
    .style('opacity', 0)
    .remove();

  bigText.text('');
    bigTextScan.text('');
}

var BASE_FONT = "'Helvetica Neue', Helvetica, Arial, sans-serif";

var FONTS = [
  "Open Sans",
  "Josefin Slab",
  "Arvo",
  "Lato",
  "Vollkorn",
  "Abril Fatface",
  "Old StandardTT",
  "Droid+Sans",
  "Lobster",
  "Inconsolata",
  "Montserrat",
  "Playfair Display",
  "Karla",
  "Alegreya",
  "Libre Baskerville",
  "Merriweather",
  "Lora",
  "Archivo Narrow",
  "Neuton",
  "Signika",
  "Questrial",
  "Fjalla One",
  "Bitter",
  "Varela Round"
];

function nameFn(d){
  var tmp = arr[d.id].state;
  //return arr[d.id].state;
  return tmp;
}


function textArt(d){
  // Use random font
  var name = arr[d.id].state;
 // var fontIndex = Math.round(Math.random() * FONTS.length);
  var fontFamily = BASE_FONT;

 
  // Use dummy text to compute actual width of the text
  // getBBox() will return bounding box
  dummyText
    .style('font-family', fontFamily)
    .text(name);
  var bbox = dummyText.node().getBBox();

  var textWidth = bbox.width;
  var textHeight = bbox.height;
  var xGap = 3;
  var yGap = 1;

  bigText
    .style('font-family', fontFamily)
    .text(name)
    .attr('x', (width - 160 - (bigText.node().getBBox().width/2)));

  bigTextScan.style('font-family', fontFamily)
    .text(arr[d.id].item)
    .attr('x', (width - 160 - (bigTextScan.node().getBBox().width/2)));

  // Generate the positions of the text in the background
  var xPtr = 0;
  var yPtr = 0;
  var positions = [];
  var rowCount = 0;
  while(yPtr < height){
    while(xPtr < width){
      var point = {
        text: name,
        index: positions.length,
        x: xPtr,
        y: yPtr
      };
      var dx = point.x - width/2 + textWidth/2;
      var dy = point.y - height/2;
      point.distance = dx*dx + dy*dy;

      positions.push(point);
      xPtr += textWidth + xGap;
    }
    rowCount++;
    xPtr = rowCount%2===0 ? 0 : -textWidth/2;
    xPtr += Math.random() * 10;
    yPtr += textHeight + yGap;
  }

  var selection = effectLayer.selectAll('text')
    .data(positions, function(d){return d.text+'/'+d.index;});

  // Clear old ones
  selection.exit().transition()
    .style('opacity', 0)
    .remove();

  // Create text but set opacity to 0
  selection.enter().append('text')
    .text(function(d){return d.text;})
    .attr('x', function(d){return d.x;})
    .attr('y', function(d){return d.y;})
    .style('font-family', fontFamily)
    .style('fill', '#777')
    .style('opacity', 0);

  selection
    .style('font-family', fontFamily)
    .attr('x', function(d){return d.x;})
    .attr('y', function(d){return d.y;});

  // Create transtion to increase opacity from 0 to 0.1-0.5
  // Add delay based on distance from the center of the <svg> and a bit more randomness.
  selection.transition()
    .delay(function(d){
      return d.distance * 0.01 + Math.random()*1000;
    })
    .style('opacity', function(d){
      return 0.1 + Math.random()*0.4;
    });
}

</script>
    <hr>
    <h1 id="tableTitle">How Many Times Has a RecEYEcle Item Been Scanned?!</h1>
    </div>

<div id="table1">

<?php
$mysqli = new mysqli("localhost", "id2274345_admin", "YbwMzoMvXvHnorzh%K5X", "id2274345_receyecle");

$query = "SELECT class.class_category, class.material, class.instruct, scanTotal.total_scans FROM class INNER JOIN scanTotal ON class.classifier_id = scanTotal.classifier_id ORDER BY scanTotal.total_scans DESC";
$result = $mysqli->query($query) ;

echo "<table class='table' id='tables' border='1' cellpadding='8' cellspacing='2' width='80%'";
echo "<colgroup>
       <col span=\"1\" style\"width: 20%;\">
       <col span=\"1\" style=\"width: 20%;\">
       <col span=\"1\" style=\"width: 60%;\">
    </colgroup>";
echo "<tr class = 'header'><td>Item</td><td>Times Scanned</td><td>How to Recycle</td>";
$newClass;
while ($row = $result->fetch_assoc()) {
    echo "<tr>";
    if($row["material"] != "none"){
        $newClass = $row["material"] . " " . $row["class_category"];
    }
    else{
        $newClass = $row["class_category"];
    }
    echo "<td>" . ucwords($newClass) . "</td>";
    echo "<td>" . $row["total_scans"] . "</td>";
    echo "<td>" . $row["instruct"] . "</td>";
    echo "</tr>";
}
    echo"</table>";

$mysqli->close();
?>
</div>
</div>




        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; RecEYEcle 2017</p>
                    <a href="../privacypolicy.htm">Privacy</a>
                </div>
            </div>
            <!-- /.row -->
        </footer>

    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>


</body>

</html>